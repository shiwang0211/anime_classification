{% extends "index.html" %}
{% block body %}

<h1>Personal Project</h1>
This personal project aims to develop a image classification model to predict the genre of an anime based on the poster of the anime.
<li> The problem is formulated as a multi-label classification problem.</li>
<li> The anime poster and genre information are obtained from <a href = "https://myanimelist.net/anime/">anime.net</a> through web scraping.</li>
<li> The network is coded in PyTorch and implemented transfer learning based on pre-trained ResNet18.</li>
<li> The model is deployed as a Cloud Function and served on a Flask App.</li>
<li> The source codes can be found at <a href = "https://github.com/shiwang0211">Github</a></li>

</br></br>
<table align="left" padding=0>
  <tr>
    <td width="50%" style="text-align:left" valign="top">
    {% if uploaded %}
      The uploaded poster is be shown here.
      </br>
       <p><img src="{{ url_for('send_file', filename = filename_upload) }}" style="width:70%;"></p>
    {% else %}
      <li>A random poster is shown below. </li>
      <li>You can also upload your own poster on the right.</li>
      </br>
       <p><img src="{{ url_for('send_file', filename = filename_random) }}" style="width:70%;"></p>
       <a href = "{{  'https://myanimelist.net/anime/' + index_random  }}">Link to this anime on myanimelist.net</a>
    {% endif %}

    </td>
    <td width="50%" style="text-align:left">

      <form method="POST" action="/anime" enctype="multipart/form-data">
          <dl>
      		<p>
      			<input type="file" name="file" autocomplete="off" value="Choose your own poster to upload" required>
      		</p>
          </dl>
          <p>

      		<input type="submit" value="Generate Prediction">
      	  </p>

      	 <b>Predicted Results:</b>
        <p><img src="{{ url_for('send_file', filename = filename_result) }}" style="width:100%;"></p>

      </form>
    </td>
  </tr>
</table>



{% endblock %}
